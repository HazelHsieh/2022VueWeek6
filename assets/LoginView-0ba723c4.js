import{_ as d,o as l,c as p,a as c,d as e,h as i,v as u,i as m,F as f}from"./index-895acf2b.js";const{VITE_APP_URL:h}={VITE_APP_URL:"https://vue3-course-api.hexschool.io/v2/",VITE_PATH:"hazel_vue",BASE_URL:"/2022VueWeek6/",MODE:"production",DEV:!1,PROD:!0},_={data(){return{userInfo:{username:"",password:""}}},methods:{async signin(){if(this.userInfo.username!==""&&this.userInfo.password!==""){try{const r=await this.$http.post(`${h}admin/signin`,this.userInfo),{token:s,expired:n}=r.data;document.cookie=`hexToken=${s}; expires=${new Date(n)};`,this.$router.push("/products")}catch(r){console.log(r.response.data)}this.userInfo.username="",this.userInfo.password=""}}}},w={class:"form-floating mb-3"},I=e("label",{for:"username"},"Email address",-1),g={class:"form-floating"},x=e("label",{for:"password"},"Password",-1),V=e("button",{class:"btn btn-lg btn-primary w-100 mt-3",type:"submit"}," 登入 ",-1);function b(r,s,n,v,t,a){return l(),p(f,null,[c(" 登入頁面 "),e("form",{id:"form",class:"form-signin",onSubmit:s[2]||(s[2]=m((...o)=>a.signin&&a.signin(...o),["prevent"]))},[e("div",w,[i(e("input",{"onUpdate:modelValue":s[0]||(s[0]=o=>t.userInfo.username=o),type:"email",class:"form-control",id:"username",placeholder:"name@example.com",required:"",autofocus:""},null,512),[[u,t.userInfo.username]]),I]),e("div",g,[i(e("input",{"onUpdate:modelValue":s[1]||(s[1]=o=>t.userInfo.password=o),type:"password",class:"form-control",id:"password",placeholder:"Password",required:""},null,512),[[u,t.userInfo.password]]),x]),V],32)],64)}const P=d(_,[["render",b]]);export{P as default};
